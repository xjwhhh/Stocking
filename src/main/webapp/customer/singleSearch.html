<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title></title>
    <link href="singleSearch.css" rel="stylesheet" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<!--图表相关引用-->
    <script type="text/javascript"
            src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
    <script type="text/javascript" src="closePrice.js"></script>
    <script type="text/javascript"
            src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
    <script type="text/javascript"
            src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
    <script type="text/javascript"
            src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
    <script type="text/javascript"
            src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
    <script type="text/javascript"
            src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
    <script type="text/javascript"
            src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>

    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/flat-ui/2.3.0/css/flat-ui.min.css" rel="stylesheet">

    <style type="text/css">
        #input {
            margin-top: 20px;
        }

        ul {
            text-align: center;
        }

        .nav-tabs > li {
            width: 20%;
            background-color: #0064b4;
        }

        a {
            color: #333333
        }

        .nav > li:hover .dropdown-menu {
            display: block;
        }

        .btn.btn-default.btn-sm {

            font-size: 8px;
            color: #1565a2;
            background: white;
        }
        .glyphicon.glyphicon-search{
            font-size: 22px;
            color: #1565a2;

        }
    </style>


    <script>
        //        股票对比
        var Number=0 ;//记录比较表格个数
        var stockToCompare = [];//记录进行比较的股票名
        var codeList = [];//
        var startTime;
        var endTime;
        var datesList=[];//股票比较时间list
        var closePrice ;
        var variance ;
        var lowest;//各个股票的最高最低值，填入表中
        var highest;
        var allNames;
        var allCodes;



        function getIdentifier(typestr,stockNamestr,startstr,endstr) {
            this.type = typestr;
            this.identifier = stockNamestr;
            this.start = startstr;
            this.end = endstr;
        }


        function Compare() {
            var series1=[];
            var series2=[];
            closePrice = new Array();
            variance = new Array();
            startDate = $("#compareStart").val();
            endDate = $("#compareEnd").val();
//            alert(startDate);
//            ShowChart();
//            alert(stockToCompare[0]);
            var url = "http://localhost:8080/singleStock";
            var key = JSON.stringify(new getIdentifier("normal",stockToCompare[0],startDate+" 00:00:00",endDate+" 00:00:00"));
            $.ajax({
                type: "POST",
                url: url,
                data: key,
                dataType: "json",//此处要设置成json
                async : false,
                success: function (data) {

                     datesList= data[0].dates;

                }
            });
//            alert("datesList.length);




            for (var v = 0; v < stockToCompare.length; v++) {
                var stockName = stockToCompare[v];

                var key = JSON.stringify(new getIdentifier("normal",stockName,startDate+" 00:00:00",endDate+" 00:00:00"));
                $.ajax({
                    type: "POST",
                    url: url,
                    data: key,
                    dataType: "json",//此处要设置成json
                    async : false,
                    success: function (data) {
//                        alert("chuanle");
                        var open = data[0].open;
                        var close = data[0].adjClose;
//                        var high = data[0].high;
//                        var low = data[0].low;
//                        datesList= data[0].dates;

                        var profits = data[0].profit;
                        var high = data[0].highest;
                        var low = data[0].lowest;
                        var up = data[0].up;
                        datesList= data[0].dates;
//                        closePrice = close;

//                        variance = v;
//                        alert(v[0]);
//                        var myChart = echarts.init(document.getElementById("closePrice"));
//                        var option = {
//                            title : {
//                                text: '每日收盘价',
//
//                            },
//                            tooltip : {
//                                trigger: 'axis'
//                            },
//                            legend: {
//                                data:"a",
//                            },
//                            //右上角工具条
//                            toolbox: {
//                                show : true,
//                                feature : {
//                                    mark : {show: true},
//                                    dataView : {show: true, readOnly: false},
//                                    magicType : {show: true, type: ['line', 'bar']},
//                                    restore : {show: true},
//                                    saveAsImage : {show: true}
//                                }
//                            },
//                            calculable : true,
//                            xAxis : [
//                                {
//                                    type : 'category',
//                                    boundaryGap : false,
//                                    data : datesList,
//                                }
//                            ],
//                            yAxis : [
//                                {
//                                    type : 'value',
//
//                                }
//                            ],
//
//                            series : [
//                                {
//                                    name:"a",
//                                    type:'line',
//                                    data:closePrice,
//                                    markPoint : {
//                                        data : [
//                                            {type : 'max', name: '最大值'},
//                                            {type : 'min', name: '最小值'}
//                                        ]
//                                    },
//
//                                },
//                            ]
//                        };
//                        myChart.setOption(option,true);


//                        closePrice[v] = new Array();
//                        for(var i=0;i<close.length;i++){
//                            closePrice[v][i]=close[i];
//                        }
//                        alert("close"+close[0]);
//                        alert(closePrice[v][0]+"sss");
//                        closePrice.push(close);
//                        variance[v] = new Array();
//                        for(var i=0;i<variance.length;i++){
//                            variance[v][i]=v[i];
//                        }

                        var x = document.getElementById("compareResult").insertRow(v+1);
                        var y = x.insertCell(0);
                        var z = x.insertCell(1);
                        var vv = x.insertCell(2);
                        var vvv = x.insertCell(3);
                        var vvvv = x.insertCell(4);
                        var vvvvv = x.insertCell(5);
                        y.innerHTML = stockToCompare[v];
                        z.innerHTML = "1";
                        vv.innerHTML=high;
                        vvv.innerHTML=low;
                        vvvv.innerHTML=up;
                        vvvvv.innerHTML=up;
                        closePrice=close;
                        variance=profits;
                        alert("vass"+variance[0]);
                    }

                });//回调函数
//                alert("vass"+variance[0]);

                series1.push({
                    name: stockToCompare[v],
                    type: 'line',
//                            stack: '总量',
                    data:closePrice,
//                            data: close
                });
//                        alert("ssss");
                series2.push({
                    name: stockToCompare[v],
                    type: 'line',
//                            stack: '总量',
                    data:variance,
//                            data: v
                });


            }
            alert("asd"+closePrice[0]);
            alert("datessss"+datesList[0]);

            var myChart = echarts.init(document.getElementById("closePrice"));
            var option = {
                title : {
                    text: '每日收盘价',

                },
                tooltip : {
                    trigger: 'axis'
                },
                legend: {
                    data:"a",
                },
                //右上角工具条
                toolbox: {
                    show : true,
                    feature : {
                        mark : {show: true},
                        dataView : {show: true, readOnly: false},
                        magicType : {show: true, type: ['line', 'bar']},
                        restore : {show: true},
                        saveAsImage : {show: true}
                    }
                },
                calculable : true,
                xAxis : [
                    {
                        type : 'category',
                        boundaryGap : false,
                        data : datesList,
                    }
                ],
                yAxis : [
                    {
                        type : 'value',

                    }
                ],

                series : series1,
            };
            myChart.setOption(option,true);

//相对收益率

            var myChart1 = echarts.init(document.getElementById("variance"));
            var option1 = {
                title : {
                    text: '每日对数收益率',

                },
                tooltip : {
                    trigger: 'axis'
                },
                legend: {
                    data:"a",
                },
                //右上角工具条
                toolbox: {
                    show : true,
                    feature : {
                        mark : {show: true},
                        dataView : {show: true, readOnly: false},
                        magicType : {show: true, type: ['line', 'bar']},
                        restore : {show: true},
                        saveAsImage : {show: true}
                    }
                },
                calculable : true,
                xAxis : [
                    {
                        type : 'category',
                        boundaryGap : false,
                        data : datesList,
                    }
                ],
                yAxis : [
                    {
                        type : 'value',

                    }
                ],
                series : series2
            };

//            alert("ssss");
// 为echarts对象加载数据
            myChart1.setOption(option1,true);


        }
        function Remove(){

        }
        function ShowTable(){



        }
        function ShowChart(){
//            每日收盘价

        }

//         个股详情
        var stockList;//板块搜索得到股票列表和股票编号
        var codeList;

//        界面加载时调用函数，得到所有股票名称和代码，初始化图表


    </script>



</head>
<body onload="Load()">

<script>
    var stockName
    function sendName() {
        var exit=0;
        var stockCode;
        stockName = document.getElementById("stockNameInput").value;
//        alert(stockName);
//        判断是否存在
        for(var v=0;v<allNames.length;v++){
            if(allNames[v]==stockName){
                stockCode = allCodes[v];
                exit=1;
                break;
            }
        }
        if(exit==1) {
            stockName=encodeURIComponent(stockName);

            document.location.href && (document.location.href = "singleStockCurrent.html?stockNameInput=" + stockName+"?stockCodeInput="+stockCode);
        }else{
            for(var v=0;v<allNames.length;v++){
                if(allCodes[v]==stockName){
                    exit=1;
                    stockCode=stockName;
                    stockName = allNames[v];
                    break;
                }
            }
            if(exit==1){
                stockName=encodeURIComponent(stockName);
                document.location.href && (document.location.href = "singleStockCurrent.html?stockNameInput=" + stockName+"?stockCodeInput="+stockCode);
            }else{alert("股票不存在");}
        }
    }
    function getPlate(platestr){
        this.type=platestr;
    }
    function Load(){
//        var allNames;
//        var allCodes;
//        stockToCompare=["a"];
//        dates=[1,2];
//        closePrice=[0,0];
//        alert("load");
//        ShowChart();
        var url="http://localhost:8080/codename";
        var key = JSON.stringify(new getPlate("all"));
//        alert(key);
//                alert(date);
//            alert("success");
        $.ajax({

            type:"POST",
            url:url,
            data:key,
            dataType: "json",//此处要设置成json
            success: function (data) {

                allNames = data[0].name;
                allCodes = data[0].code;
//                alert(allNames.length);
            }});
    }


//    var stockNames = ["a", "b", "c"];
//    var stockNums = [1, 2, 3];


</script>



<!--固定导航栏-->
<div class="container-fluid">
    <div class="navbar-header">
        <img src="stock2.jpg" class="img-rounded">
    </div>
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#" style="height: 100px;line-height: 70px; font-size:4em">Stocking</a>
    </div>
    <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
            <li><a href="login.html" target="_blank" style="height: 100px;line-height: 70px; font-size:1.2em">登录</a>
            </li>
            <li><a href="#" style="height: 100px;line-height: 70px; font-size:1.2em">注册</a></li>
        </ul>
        <form class="navbar-form navbar-right" action="#" role="search">
            <div class="form-group">
                <div class="input-group" id="input">
                    <input class="form-control" id="navbarInput-01" type="search" placeholder="Search"
                           style="height: 45px;padding: 10px 15px;font-size: 17px;line-height: 1.235; width:300px">
                    <span class="input-group-btn">
                  <button type="submit" class="btn"
                          style="height: 45px;padding: 10px 15px;font-size: 17px;line-height: 1.235"><span
                          class="fui-search "></span></button>
                </span>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="collapse navbar-collapse" id="navbar-collapse-6">
    <ul class="nav nav-tabs">
        <li><a href="index.html">首页</a></li>
        <li class="active"><a href="singleSearch.html">股票数据</a>

        </li>
        <li><a href="market_1.html">行情信息</a></li>
        <li><a href="regressionSetting.html">回测</a></li>
        <li><a href="news.html">新闻</a></li>
    </ul>
</div>


<div class="collapse navbar-collapse" id="navbar-collapse-7">
    <ul style="margin-top: 20px" id="myTab" class="nav nav-tabs">
        <li style="background: #fffaf0" class="active">
            <a href="#stockContent" data-toggle="tab">
                个股详情
            </a>

        </li>
        <li style="background: white"><a href="#stockCompare" data-toggle="tab">股票比较</a></li>

    </ul>
</div>


<!--个股详情-->

<div id="myTabContent" class="tab-content">
    <div class="tab-pane fade in active" id="stockContent">
        <form action="singleStockCurrent.html" method="POST">
            <div style="padding-left:40px;margin-top: 40px ;margin-left: 40px" class="nav__search">
                <input type="text" id="stockNameInput" placeholder="输入股票名或股票编号">
                <span class="nav__search__addon">
           <!--<input style="background: rgba(0,0,0,0)" type="submit">-->
                    <!--<script>-->
                    <!--//                        stockName = document.getEl-->
                    <!--</script>-->
                <button type="button" class="btn btn-default btn-sm" type="submit" onclick="sendName()">

             <!--<a href="singleSearch.html"></a>-->
          <span class="glyphicon glyphicon-search"></span>
        </button>
        </span>

            </div>
        </form>


        <div style="padding-left:40px;margin-left: 40px;margin-top:40px;width:70%;float:left"
             class="stockScreener-range">
            <div class="stockScreener-title">选择范围</div>
            <div class="stockScreener-range-wrapper">
                <div class="stockScreener-range-industry" style="width:50%;display:inline;float:left">
                    <span>行业：</span><select id="hangye">
                    <option value="全部">全部</option>


                    <option value="银行业">银行业</option>
                    <option value="房地产开发与经营业">房地产开发与经营业</option>
                    <option value="无">无</option>
                    <option value="制造业">制造业</option>
                    <option value="旅馆业">旅馆业</option>
                    <option value="餐饮业">餐饮业</option>
                    <option value="非金属矿物制品业">非金属矿物制品业</option>
                    <option value="化工材料批发业">化工材料批发业</option>
                    <option value="交通运输设备制造业">交通运输设备制造业</option>
                    <option value="纺织业">纺织业</option>
                    <option value="饮料制造业">饮料制造业</option>
                    <option value="电子元器件制造业">电子元器件制造业</option>
                    <option value="计算机及相关设备制造业">计算机及相关设备制造业</option>
                    <option value="港口业">港口业</option>
                    <option value="能源、材料和机械电子设备批发业">能源、材料和机械电子设备批发业</option>
                    <option value="零售业">零售业</option>
                    <option value="电力、蒸汽、热水的生产和供应业">电力、蒸汽、热水的生产和供应业</option>
                    <option value="食品、饮料、烟草和家庭用品批发业">食品、饮料、烟草和家庭用品批发业</option>
                    <option value="其他电子设备制造业">其他电子设备制造业</option>
                    <option value="租赁服务业">租赁服务业</option>
                    <option value="商业经纪与代理业">商业经纪与代理业</option>
                    <option value="粮食及饲料加工业">粮食及饲料加工业</option>
                    <option value="金属制品业">金属制品业</option>
                    <option value="房地产管理业">房地产管理业</option>
                    <option value="专业、科研服务业">专业、科研服务业</option>
                    <option value="有色金属冶炼及压延加工业">有色金属冶炼及压延加工业</option>
                    <option value="通信及相关设备制造业">通信及相关设备制造业</option>
                    <option value="土木工程建筑业">土木工程建筑业</option>
                    <option value="药品及医疗器械零售业">药品及医疗器械零售业</option>
                    <option value="公路运输业">公路运输业</option>
                    <option value="交通运输辅助业">交通运输辅助业</option>
                    <option value="能源批发业">能源批发业</option>
                    <option value="航空运输业">航空运输业</option>
                    <option value="医药制造业">医药制造业</option>
                    <option value="化学原料及化学制品制造业">化学原料及化学制品制造业</option>
                    <option value="信息传播服务业">信息传播服务业</option>
                    <option value="专用设备制造业">专用设备制造业</option>
                    <option value="证券、期货业">证券、期货业</option>
                    <option value="输配电及控制设备制造业">输配电及控制设备制造业</option>
                    <option value="水泥制造业">水泥制造业</option>
                    <option value="天然原油开采业">天然原油开采业</option>
                    <option value="黑色金属矿采选业">黑色金属矿采选业</option>
                    <option value="普通机械制造业">普通机械制造业</option>
                    <option value="日用电器制造业">日用电器制造业</option>
                    <option value="化学纤维制造业">化学纤维制造业</option>
                    <option value="化学肥料制造业">化学肥料制造业</option>
                    <option value="中药材及中成药加工业">中药材及中成药加工业</option>
                    <option value="有色金属矿采选业">有色金属矿采选业</option>
                    <option value="旅游业">旅游业</option>
                    <option value="计算机应用服务业">计算机应用服务业</option>
                    <option value="出版业">出版业</option>
                    <option value="生物制品业">生物制品业</option>
                    <option value="水上运输业">水上运输业</option>
                    <option value="日用化学产品制造业">日用化学产品制造业</option>
                    <option value="照明器具制造业">照明器具制造业</option>
                    <option value="公共设施服务业">公共设施服务业</option>
                    <option value="煤炭采选业">煤炭采选业</option>
                    <option value="汽车制造业">汽车制造业</option>
                    <option value="综合类证券公司">综合类证券公司</option>
                    <option value="金融信托业">金融信托业</option>
                    <option value="酒精及饮料酒制造业">酒精及饮料酒制造业</option>
                    <option value="黑色金属冶炼及压延加工业">黑色金属冶炼及压延加工业</option>
                    <option value="渔业">渔业</option>
                    <option value="橡胶制造业">橡胶制造业</option>
                    <option value="轴承、阀门制造业">轴承、阀门制造业</option>
                    <option value="自来水的生产和供应业">自来水的生产和供应业</option>
                    <option value="生物药品制造业">生物药品制造业</option>
                    <option value="食品加工业">食品加工业</option>
                    <option value="林业">林业</option>
                    <option value="广播电影电视业">广播电影电视业</option>
                    <option value="轻纺工业专用设备制造业">轻纺工业专用设备制造业</option>
                    <option value="管道运输业">管道运输业</option>
                    <option value="其他传播、文化产业">其他传播、文化产业</option>
                    <option value="冶金、矿山、机电工业专用设备制造业">冶金、矿山、机电工业专用设备制造业</option>
                    <option value="造纸及纸制品业">造纸及纸制品业</option>
                    <option value="农业">农业</option>
                    <option value="食品制造业">食品制造业</option>
                    <option value="电力生产业">电力生产业</option>
                    <option value="石油加工及炼焦业">石油加工及炼焦业</option>
                    <option value="线路、管道和设备安装业">线路、管道和设备安装业</option>
                    <option value="畜牧业">畜牧业</option>
                    <option value="航空航天器制造业">航空航天器制造业</option>
                    <option value="农、林、牧、渔服务业">农、林、牧、渔服务业</option>
                    <option value="医药、生物制品">医药、生物制品</option>
                    <option value="印刷业">印刷业</option>
                    <option value="毛纺织业">毛纺织业</option>
                    <option value="其他专用设备制造业">其他专用设备制造业</option>
                    <option value="通信设备制造业">通信设备制造业</option>
                    <option value="通信服务业">通信服务业</option>
                    <option value="软饮料制造业">软饮料制造业</option>
                    <option value="石化及其他工业专用设备制造业">石化及其他工业专用设备制造业</option>
                    <option value="塑料制造业">塑料制造业</option>
                    <option value="通用设备制造业">通用设备制造业</option>
                    <option value="服装及其他纤维制品制造业">服装及其他纤维制品制造业</option>
                    <option value="制糖业">制糖业</option>
                    <option value="摩托车制造业">摩托车制造业</option>
                    <option value="铁路运输设备制造业">铁路运输设备制造业</option>
                    <option value="电器机械及器材制造业">电器机械及器材制造业</option>
                    <option value="石墨及碳素制品业">石墨及碳素制品业</option>
                    <option value="石油和天然气开采业">石油和天然气开采业</option>
                    <option value="稀有稀土金属冶炼业">稀有稀土金属冶炼业</option>
                    <option value="装修装饰业">装修装饰业</option>
                    <option value="陶瓷制品业">陶瓷制品业</option>
                    <option value="文教体育用品制造业">文教体育用品制造业</option>
                    <option value="其他社会服务业">其他社会服务业</option>
                    <option value="采掘服务业">采掘服务业</option>
                    <option value="煤气生产和供应业">煤气生产和供应业</option>
                    <option value="房地产中介服务业">房地产中介服务业</option>
                    <option value="其他通用零部件制造业">其他通用零部件制造业</option>
                    <option value="仓储业">仓储业</option>
                    <option value="沿海运输业">沿海运输业</option>
                    <option value="锅炉及原动机制造业">锅炉及原动机制造业</option>
                    <option value="卫生、保健、护理服务业">卫生、保健、护理服务业</option>
                    <option value="广播电视设备制造业">广播电视设备制造业</option>
                    <option value="渔业服务业">渔业服务业</option>
                    <option value="其他批发业">其他批发业</option>
                    <option value="公路管理及养护业">公路管理及养护业</option>
                    <option value="电信服务业">电信服务业</option>
                    <option value="医疗器械制造业">医疗器械制造业</option>
                    <option value="仪器仪表及文化、办公用机械制造业">仪器仪表及文化、办公用机械制造业</option>
                    <option value="海洋渔业">海洋渔业</option>
                    <option value="铁路运输业">铁路运输业</option>
                    <option value="轮胎制造业">轮胎制造业</option>
                    <option value="保险业">保险业</option>
                    <option value="贵金属冶炼业">贵金属冶炼业</option>
                    <option value="重有色金属冶炼业">重有色金属冶炼业</option>
                    <option value="钢压延加工业">钢压延加工业</option>
                    <option value="远洋运输业">远洋运输业</option>
                    <option value="乳制品制造业">乳制品制造业</option>
                    <option value="计算机软件开发与咨询">计算机软件开发与咨询</option>
                    <option value="化学农药制造业">化学农药制造业</option>
                    <option value="贵金属矿采选业">贵金属矿采选业</option>
                    <option value="造纸业">造纸业</option>
                    <option value="炼钢业">炼钢业</option>
                    <option value="电机制造业">电机制造业</option>
                    <option value="石油和天然气开采服务业">石油和天然气开采服务业</option>
                    <option value="玻璃及玻璃制品业">玻璃及玻璃制品业</option>
                    <option value="市内公共交通业">市内公共交通业</option>
                    <option value="其他非金属矿物制品业">其他非金属矿物制品业</option>
                    <option value="自行车制造业">自行车制造业</option>
                    <option value="铁路、公路、隧道、桥梁建筑业">铁路、公路、隧道、桥梁建筑业</option>
                    <option value="人寿保险业">人寿保险业</option>
                    <option value="其他交通运输业">其他交通运输业</option>


                </select></div>
                <div class="stockScreener-range-area" style="width:40%;float:left;margin-top: 4%">
                    <span>板块：</span><select id="bankuai">
                    <option value="全部">全部</option>
                    <option value="创业板">创业板</option>
                    <option value="中小板">中小板</option>
                    <option value="深市A股">深市A股</option>
                    <option value="深市B股">深市B股</option>
                    <option value="沪市A股">沪市A股</option>
                    <option value="沪市B股">沪市B股</option>


                </select></div>


                <div>

                    <button style="margin-left: -20%;margin-top: 4%" type="button" class="btn btn-default btn-sm"
                            type="submit" onclick="stockSearch()">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </div>

            <div style="margin-top: 50px;margin-left: 0px" class="stockScreener-search-result new-portfolio">
                <div><span class="result">符合条件股票<span id="numberOfSearch">0</span>只</span>

                </div>
                <div class="stockScreener-search-result-table-container">
                    <div class="stockScreener-search-result-table mainTable overflowx">
                        <table id="stockTable" style="width:690px;" cellspacing="0" cellpadding="0"
                               class="table table-striped">

                            <tbody>


                            </tbody>
                        </table>

                    </div>

                </div>
                <script>

                    function getType(typestr){
                        this.type = typestr;
                    }

//                    根据行业和板块得到股票列表
                    function stockSearch() {
                        var myselect1 = document.getElementById("hangye");
                        var myselect2 = document.getElementById("bankuai");
                        var index1=myselect1.selectedIndex ;
                        var index2=myselect2.selectedIndex ;
                       var hangye=myselect1.options[index1].value;
                       var bankuai =myselect2.options[index2].value;
                       //调用ajax得到codelist和stocklist
                        var url="http://localhost:8080/codename";
                        var key = JSON.stringify(new getType(myselect1+"/"+myselect2));

                        $.ajax({

                            type:"POST",
                            url:url,
                            data:key,
                            dataType: "json",//此处要设置成json
                            success: function (data) {

                                stockList = data[0].name;
                                codeList = data[0].code;

                            }});

                        for (var i = 0; i < stockList.length; i++) {
                            var x = document.getElementById("stockTable").insertRow(i);
                            var y = x.insertCell(0);
                            var z = x.insertCell(1);
                            y.innerHTML = "<a href='singleStockCurrent.html?stockNameInput=" + stockList[i] + "'>" + stockList[i] + "</a>";
                            z.innerHTML = codeList[i];

                        }
                        var x = document.getElementById("stockTable").insertRow(0);
                        var y = x.insertCell(0);
                        var z = x.insertCell(1);
//                        var zz = x.insertCell(2);
                        y.innerHTML = "股票名称";
                        z.innerHTML = "股票编号";
//                        zz.innerHTML = "收藏"
                        document.getElementById('numberOfSearch').innerHTML = stockList.length;


                    }
                </script>

            </div>


        </div>

        <div style="width: 15%;height: 300px;margin-top: 10px;float:left" class="sc_selector">
            <table cellspacing="10" class="table table-condensed">
                <thead>
                <tr><h3 class="sc_title" style="height:60px;font-size:50px;padding-top:10px">热股榜</h3></tr>
                </thead>
                <tr class="depreciate">
                    <td>1</td>
                    <td style="margin-left: 20px"><a href="/S/BABA" target="_blank">深发展A</a></td>

                </tr>
                <tr class="depreciate">
                    <td>2</td>
                    <td style="margin-left: 20px"><a href="/S/BABA" target="_blank">沪深</a></td>

                </tr>

            </table>


        </div>

    </div>

    <!--//股票对比-->

    <div class="tab-pane " id="stockCompare">
        <div style="margin-left: 5%;margin-top:3%;width: 30%;" class="common_clom2_1">
            <div class="sc_selector">
                <div class="sc_title">
                    <h4 style="margin: 0px">股票对比
                        <small style="color: white;font-size: small">提示：最多对比5只股票</small>
                    </h4>
                </div>
                <div style="display: inline;width: 95%">时间： <input id="compareStart" style="width: 40%" type="date"
                                                                   value="2015-09-24"/> - <input id="compareEnd"
                                                                                                 style="width: 40%"
                                                                                                 type="date"
                                                                                                 value="2015-09-24"
                >
                    <div class="sc_suggest">
                        添加对比：<input type="text" value="代码/名称/拼音" id="stockInput" autocomplete="off">
                        <!-- <a href="" class="sc_sel_btn" id="sc_sel_add">添加对比</a> -->
                        <button type="button" class="btn btn-default btn-sm" onclick="Inputadd()">
                            <span class="glyphicon glyphicon-plus"></span>
                        </button>
                        <ol class="sc_sel_results" id="sc_sel_results">
                        </ol>
                        <div class="stockScreener-search-result-table-container">
                            <div class="stockScreener-search-result-table mainTable overflowx">
                                <table id="compareTable" style="width:95px;"
                                       class="table table-striped">

                                    <tbody>


                                    </tbody>
                                </table>

                            </div>

                        </div>
                        <script>
                            function Inputadd() {
                                var repeat = 0;

//                                判断输入是否存在
                                var stockName = document.getElementById("stockInput").value;


                                for(var v=0;v<allNames.length;v++){
                                    if(allNames[v]==stockName){
                                        stockCode = allCodes[v];
                                        exit=1;
                                        break;
                                    }
                                }
                                if(exit==1) {
                                    //存在
                                    for(var v=0;v<stockToCompare.length;v++){
                                        if(stockToCompare[v]==stockName){repeat=1;break;}
                                    }
                                    if(repeat==0){



                                    var x = document.getElementById("compareTable").insertRow(Number);
                                    var y = x.insertCell(0);


                                    y.innerHTML = stockName;
                                    stockToCompare.push(stockName);
                                    Number++;}else {alert("该股票已存在");}
                                }else{
                                    for(var v=0;v<allNames.length;v++){
                                        if(allCodes[v]==stockName){
                                            exit=1;
                                            stockCode=stockName;
                                            stockName = allNames[v];
                                            break;
                                        }
                                    }
                                    if(exit==1){
                                        for(var v=0;v<stockToCompare.length;v++){
                                            if(stockToCompare[v]==stockName){repeat=1;break;}
                                        }if(repeat==0){

                                        var x = document.getElementById("compareTable").insertRow(Number);
                                        var y = x.insertCell(0);


                                        y.innerHTML = stockName;
                                        stockToCompare.push(stockName);
                                        Number++;}else{alert("该股票已存在");}
                                    }else{alert("股票不存在");}
                                }



                            }
                            function Chooseadd(obj){
                                var repeat=0;
//                                alert("choose");


                                var c= $(obj).parent().parent().children("td").eq(0).text();
//                                alert("stockCHose :"+c);

                                for(var v=0;v<stockToCompare.length;v++){
                                    if(stockToCompare[v]==c){repeat=1;break;}
                                }if(repeat==0){

                                stockToCompare.push(c);
                                var x = document.getElementById("compareTable").insertRow(Number);
                                var y = x.insertCell(0);

                                y.innerHTML = c;
//                                document.getElementById('numberOfSearch').innerHTML = stockNames.length;
                                Number++;}else{alert("该股票已存在");}

                            }
                        </script>

                        <div class="sc_sel_btns">
                            <button style="font-size: 18px" type="button" class="btn btn-default btn-sm" onclick="Compare()">
                                <span class="glyphicon glyphicon-search"></span> 开始对比
                            </button>
                            <!-- _url为对比的跳转链接,只需保证存在{code}存在即可		 -->
                            <button style="font-size: 18px" type="button" class="btn btn-default btn-sm" onclick="Remove()">
                                <span class="glyphicon glyphicon-trash"></span> 清空
                            </button>
                        </div>
                    </div>
                </div>

                <div class="sc_bigshot sc_tabs">
                    <div class="sc_title">
                        <h4>热门股：</h4>
                    </div>
                    <div class="sc_tabs_panel current" id="sc_tabs_panel1">
                        <table class="sc_common_data">
                            <tbody>
                            <tr>
                                <td>秦安股份</td>

                                <td>
                                    <button type="button" class="btn btn-default btn-sm" onclick="Chooseadd(this)">
                                        <span class="glyphicon glyphicon-plus"></span>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>万通智控</td>

                                <th><button type="button" class="btn btn-default btn-sm" onclick="Chooseadd(this)">
                                    <span class="glyphicon glyphicon-plus"></span>
                                </button></th>
                            </tr>


                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
        <div style="margin-top: -25%;" class="common_clom2_2">
            <div class="compare_table">
                <div class="comparetitle">
                    <h6>基本指标对比</h6>
                </div>
                <table id="compareResult" class="table table-hover">
                    <thead>
                    <tr>
                        <th>股票名称</th>
                        <th>股票编号</th>
                        <th>最低值</th>
                        <th>最高值</th>
                        <th>涨跌幅</th>
                        <th>涨跌幅</th>

                    </tr>
                    </thead>
                    <tbody>


                    </tbody>
                </table>

            </div>


            <div class="close_price">
                <!--<h6>每日收盘价</h6>-->
                <div>
                    <div id="closePrice" style="height:350px;width: 600px"></div>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
                    <!--<script type="text/javascript" src="closePrice.js"></script>-->
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
                    <script type="text/javascript"
                            src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
                    <!--<script type="text/javascript" src="closePrice.js"></script>-->
                    <!--<div id="closePrice" style="height: 100%"></div>-->

                </div>
            </div>

            <div class="variance">

                <div>
                    <div id="variance" style="height:350px;width: 600px"></div>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
                    <!--<script type="text/javascript" src="variance.js"></script>-->
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
                    <script type="text/javascript"
                            src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
                    <!--<script type="text/javascript" src="variance.js"></script>-->
                    <!--<div id="closePrice" style="height: 100%"></div>-->

                </div>
            </div>


        </div>


    </div>
</div>
</body>
</html>