<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stocking量化交易</title>

    <!-- Bootstrap core CSS -->
    <link href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/flat-ui/2.3.0/css/flat-ui.min.css" rel="stylesheet">

    <style type="text/css">
        #input {
            margin-top: 20px;
        }

        .nav-tabs > li {
            width: 20%;
            background-color: #004fa2;
        }

        a {
            color: #ffffff
        }

        ul {
            text-align: center;
        }

    </style>

    <script type="text/javascript" src="json2-min.js"></script>
</head>
<body onload="getnews();judgeLogin()">
<div class="container-fluid" style="background: url(lgBg2.jpg);background-size: 100%">
    <div class="navbar-header">
        <img src="stock2.png" class="img-rounded">
    </div>
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#" style="height: 100px;line-height: 70px; font-size:4em">Stocking</a>
    </div>
    <div class="navbar-collapse collapse">
        <ul id="login" class="nav navbar-nav navbar-right">

        </ul>
        <form class="navbar-form navbar-right" action="#" role="search">
            <div class="form-group">
                <div class="input-group" id="input">
                    <input class="form-control" id="navbarInput-01" type="search" placeholder="Search"
                           style="height: 45px;padding: 10px 15px;font-size: 17px;line-height: 1.235; width:300px">
                    <span class="input-group-btn">
                  <button type="submit" class="btn"
                          style="height: 45px;padding: 10px 15px;font-size: 17px;line-height: 1.235"><span
                          class="fui-search "></span></button>
                </span>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="collapse navbar-collapse" id="navbar-collapse-6">
    <ul class="nav nav-tabs">
        <li class="active"><a href="#"><span class="glyphicon glyphicon-home"></span>&nbsp&nbsp&nbsp首页</a></li>
        <li><a href="singleSearch.html"><span class="glyphicon glyphicon-stats"></span>&nbsp&nbsp&nbsp股票数据</a></li>
        <li><a href="market_1.html"><span class="glyphicon glyphicon-file"></span>&nbsp&nbsp&nbsp行情信息</a></li>
        <li><a href="regressionSetting.html"><span class="glyphicon glyphicon-tags"></span>&nbsp&nbsp&nbsp回测</a></li>
        <li><a href="news.html"><span class="glyphicon glyphicon-book"></span>&nbsp&nbsp&nbsp新闻</a></li>
    </ul>
</div>


<div class="container" style="background: #efeff4">
    <!--<div class="row-fluid">-->
    <div class="col-md-12">
        <div class="container-fluid" id="stock">
            <h5>市场数据</h5>
            <hr/>
            <div class="col-md-6">
                <div class="col-md-12">
                    <div class="col-md-6">指数名称<p id="指数名称1" style="color: #ff4b44; font-size: 1.2em;">a</p></div>
                    <div class="col-md-6">当前点数<p id="当前点数1" style="color: #ff4b44; font-size: 2em;">a</p></div>
                </div>
                <div class="col-md-12">
                    <div class="col-md-6">今日价格涨跌<p id="当前价格1" style="color: #ff4b44; font-size: 1.2em;">a</p></div>
                    <div class="col-md-6">涨跌率<p id="涨跌率1" style="color: #ff4b44; font-size: 2em;">a</p></div>
                </div>
                <div class="col-md-12">
                    <div class="col-md-6">成交量<p id="成交量1" style="color: #ff4b44; font-size: 1.2em;">a</p></div>
                    <div class="col-md-6">成交额<p id="成交额1" style="color: #ff4b44; font-size: 1.2em;">a</p></div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="col-md-12">
                    <div class="col-md-6">指数名称<p id="指数名称2" style="color: #ff4b44; font-size: 1.2em;">a</p></div>
                    <div class="col-md-6">当前点数<p id="当前点数2" style="color: #ff4b44; font-size: 2em;">a</p></div>
                </div>
                <div class="col-md-12">
                    <div class="col-md-6">今日价格涨跌<p id="当前价格2" style="color: #ff4b44; font-size: 1.2em;">a</p></div>
                    <div class="col-md-6">涨跌率<p id="涨跌率2" style="color: #ff4b44; font-size: 2em;">a</p></div>
                </div>
                <div class="col-md-12">
                    <div class="col-md-6">成交量<p id="成交量2" style="color: #ff4b44; font-size: 1.2em;">a</p></div>
                    <div class="col-md-6">成交额<p id="成交额2" style="color: #ff4b44; font-size: 1.2em;">a</p></div>
                </div>
            </div>
        </div>
    </div>

    <div id="news">
        <h5>新闻专栏</h5>
        <hr/>
        <div style="height: 100px;line-height: 100px;background: white;">
            <a href="#" id="url1" target="_blank" style="color:black">
                <div class="col-md-2" id="classify1"></div>
                <div class="col-md-8" id="title1"></div>
                <div class="col-md-2" id="time1" style="font-size: 1em"></div>
            </a>
        </div>
        <br>
        <div style="height: 100px;line-height: 100px;background: white;">
            <a href="#" id="url2" target="_blank" style="color:black">
                <div class="col-md-2" id="classify2"></div>
                <div class="col-md-8" id="title2"></div>
                <div class="col-md-2" id="time2" style="font-size: 1em"></div>
            </a>
        </div>
        <br>
        <div style="height: 100px;line-height: 100px;background: white;">
            <a href="#" id="url3" target="_blank" style="color:black">
                <div class="col-md-2" id="classify3"></div>
                <div class="col-md-8" id="title3"></div>
                <div class="col-md-2" id="time3" style="font-size: 1em"></div>
            </a>
        </div>
        <br>
        <div style="height: 100px;line-height: 100px;background: white;">
            <a href="#" id="url4" target="_blank" style="color:black">
                <div class="col-md-2" id="classify4"></div>
                <div class="col-md-8" id="title4"></div>
                <div class="col-md-2" id="time4" style="font-size: 1em"></div>
            </a>
        </div>
        <br>
        <div style="height: 100px;line-height: 100px;background: white;">
            <a href="#" id="url5" target="_blank" style="color:black">
                <div class="col-md-2" id="classify5"></div>
                <div class="col-md-8" id="title5"></div>
                <div class="col-md-2" id="time5" style="font-size: 1em"></div>
            </a>
        </div>
    </div>

</div>

<!--</div>-->
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<script src="http://cdn.static.runoob.com/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://cdn.static.runoob.com/libs/jquery/1.12.4/jquery.min.js"><\/script>')</script>
<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://hq.sinajs.cn/list=s_sh000001" charset="utf-8"></script>
<script type="text/javascript">
    var sh_elements = hq_str_s_sh000001.split(",");
    //    document.write("current price:" + elements[3]);
    if (sh_elements[3] > 0) {
        document.getElementById("指数名称1").style.color = "#ff4b44";
        document.getElementById("当前点数1").style.color = "#ff4b44";
        document.getElementById("当前价格1").style.color = "#ff4b44";
        document.getElementById("涨跌率1").style.color = "#ff4b44";
        document.getElementById("成交量1").style.color = "#ff4b44";
        document.getElementById("成交额1").style.color = "#ff4b44";
    } else {
        document.getElementById("指数名称1").style.color = "#00bb00";
        document.getElementById("当前点数1").style.color = "#00bb00";
        document.getElementById("当前价格1").style.color = "#00bb00";
        document.getElementById("涨跌率1").style.color = "#00bb00";
        document.getElementById("成交量1").style.color = "#00bb00";
        document.getElementById("成交额1").style.color = "#00bb00";
    }
    document.getElementById("指数名称1").innerHTML = sh_elements[0];
    document.getElementById("当前点数1").innerHTML = sh_elements[1];
    document.getElementById("当前价格1").innerHTML = sh_elements[2];
    document.getElementById("涨跌率1").innerHTML = sh_elements[3] + "%";
    document.getElementById("成交量1").innerHTML = sh_elements[4] + "手";
    document.getElementById("成交额1").innerHTML = sh_elements[5] + "万元";
</script>
<script type="text/javascript" src="http://hq.sinajs.cn/list=s_sz399001" charset="utf-8"></script>
<script type="text/javascript">
    var sz_elements = hq_str_s_sz399001.split(",");
    //    document.write("current price:" + elements[3]);
    if (sz_elements[3] > 0) {
        document.getElementById("指数名称2").style.color = "#ff4b44";
        document.getElementById("当前点数2").style.color = "#ff4b44";
        document.getElementById("当前价格2").style.color = "#ff4b44";
        document.getElementById("涨跌率2").style.color = "#ff4b44";
        document.getElementById("成交量2").style.color = "#ff4b44";
        document.getElementById("成交额2").style.color = "#ff4b44";
    } else {
        document.getElementById("指数名称2").style.color = "#00bb00";
        document.getElementById("当前点数2").style.color = "#00bb00";
        document.getElementById("当前价格2").style.color = "#00bb00";
        document.getElementById("涨跌率2").style.color = "#00bb00";
        document.getElementById("成交量2").style.color = "#00bb00";
        document.getElementById("成交额2").style.color = "#00bb00";
    }
    document.getElementById("指数名称2").innerHTML = sz_elements[0];
    document.getElementById("当前点数2").innerHTML = sz_elements[1];
    document.getElementById("当前价格2").innerHTML = sz_elements[2];
    document.getElementById("涨跌率2").innerHTML = sz_elements[3] + "%";
    document.getElementById("成交量2").innerHTML = sz_elements[4] + "手";
    document.getElementById("成交额2").innerHTML = sz_elements[5] + "万元";
</script>
<script type="text/javascript">
    function posttype(op) {
        this.op = op;
    }
    function judgeLogin() {
        var sstorage = sessionStorage;
        if (sstorage.getItem("login") == null) {
            var ul = document.getElementById("login");
            var li = document.createElement("li");
            li.innerHTML = "<a href='login.html' target='_blank' style='height: 80px;line-height: 60px; font-size:1.0em'>登录</a>";
            ul.appendChild(li);
            var li2 = document.createElement("li");
            li2.innerHTML = "<a href='signup.html' style='height: 80px;line-height: 60px; font-size:1.0em'>注册</a>";
            ul.appendChild(li2);
        } else {
            var ul = document.getElementById("login");
            var li = document.createElement("li");
            li.innerHTML = "<a href='CustomerSetting.html' target='_blank' style='height: 100px;line-height: 70px; font-size:1.2em'>用户设置</a>";
            ul.appendChild(li);
        }

    }
    function getnews() {
        var url = "http://localhost:8080/news";
        var op = JSON.stringify(new posttype("all"));
        $.ajax({
            type: "POST",
            url: url,
            data: op,
            dataType: "json",
            success: function (data) {
                document.getElementById("classify1").innerHTML = data[0].classify[0];
                document.getElementById("classify2").innerHTML = data[0].classify[1];
                document.getElementById("classify3").innerHTML = data[0].classify[2];
                document.getElementById("classify4").innerHTML = data[0].classify[3];
                document.getElementById("classify5").innerHTML = data[0].classify[4];

                document.getElementById("title1").innerHTML = data[0].title[0];
                document.getElementById("title2").innerHTML = data[0].title[1];
                document.getElementById("title3").innerHTML = data[0].title[2];
                document.getElementById("title4").innerHTML = data[0].title[3];
                document.getElementById("title5").innerHTML = data[0].title[4];

                document.getElementById("time1").innerHTML = data[0].time[0];
                document.getElementById("time2").innerHTML = data[0].time[1];
                document.getElementById("time3").innerHTML = data[0].time[2];
                document.getElementById("time4").innerHTML = data[0].time[3];
                document.getElementById("time5").innerHTML = data[0].time[4];

                document.getElementById("url1").href = data[0].url[0];
                document.getElementById("url2").href = data[0].url[1];
                document.getElementById("url3").href = data[0].url[2];
                document.getElementById("url4").href = data[0].url[3];
                document.getElementById("url5").href = data[0].url[4];
            }
        })
    }
</script>
</body>
</html>